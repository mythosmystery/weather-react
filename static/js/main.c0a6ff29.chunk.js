(this["webpackJsonpweather-react"]=this["webpackJsonpweather-react"]||[]).push([[0],{53:function(e,t,c){},62:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c.n(r),a=c(25),i=c.n(a),s=(c(52),c(53),c(71)),j=c(46),d=c(65),l=c(69),o=c(1),h=function(){return Object(o.jsx)(l.a,{bg:"dark",variant:"dark",children:Object(o.jsx)(d.a,{children:Object(o.jsx)(l.a.Brand,{href:"/weather-dashboard",children:"Weather Dashboard"})})})},u=c(27),b=c(67),x=c(45),O=c(72),m=c(29),p=c.n(m),f=c(41),y="imperial",g="1b0d53466c6b55d0c85f1d56f3184390",v="https://openweathermap.org/img/wn/",w=function(){var e=Object(f.a)(p.a.mark((function e(t){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.openweathermap.org/data/2.5/weather?q="+t+"&appid="+g+"&units="+y);case 2:if((c=e.sent).ok){e.next=5;break}throw new Error("Failed to fetch");case 5:return e.abrupt("return",c.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(f.a)(p.a.mark((function e(t){var c,r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.lon,r=t.lat,e.next=3,fetch("https://api.openweathermap.org/data/2.5/onecall?lat="+r+"&lon="+c+"&exclude=hourly,minutely&units="+y+"&appid="+g);case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("Failed to fetch");case 6:return e.abrupt("return",n.json());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C="saved_cities",N=function(){return localStorage.getItem(C)?JSON.parse(localStorage.getItem(C)):[]},k=function(e){e.length?localStorage.setItem(C,JSON.stringify(e)):localStorage.removeItem(C)},L=c(19),F=c.n(L),I=c(32),T=c(42),B=c(73),D=c(74),E=c(68),M=c(66),Y=function(e){var t=e.setCity,c=e.setSavedCityList,n=Object(r.useState)({city:""}),a=Object(u.a)(n,2),i=a[0],s=a[1],j=Object(r.useState)(!1),l=Object(u.a)(j,2),h=l[0],b=l[1];return Object(o.jsx)(d.a,{className:"my-2",children:Object(o.jsx)(B.a,{children:Object(o.jsxs)(B.a.Body,{children:[Object(o.jsx)(D.a,{dismissible:!0,onClose:function(){return b(!1)},show:h,variant:"danger",children:"Something went wrong!"}),Object(o.jsx)(E.a,{onSubmit:function(e){e.preventDefault(),i.city||b(!0),t(i.city),c(function(e){var t=N(),c=!1;return t.length&&t.forEach((function(t){t===e&&(c=!0)})),c||(t.push(e),k(t)),t}(i.city))},children:Object(o.jsxs)(E.a.Group,{children:[Object(o.jsx)(E.a.Control,{type:"content",placeholder:"Search for a city...",name:"city",value:i.city,onChange:function(e){var t=e.target,c=t.name,r=t.value;s(Object(T.a)(Object(T.a)({},i),{},Object(I.a)({},c,r)))}}),Object(o.jsx)(M.a,{type:"submit",color:"dark blue",disabled:!i.city,className:"my-2",children:"Search"})]})})]})})})},z=c(70),H=c(47),J=function(e){var t=e.setCity,c=e.savedCityList,r=e.setSavedCityList,n=c.reverse();return Object(o.jsx)(d.a,{className:"my-2",children:Object(o.jsx)(B.a,{children:Object(o.jsxs)(B.a.Body,{children:[Object(o.jsx)(B.a.Title,{children:"Recently Searched:"}),Object(o.jsx)(z.a,{className:"list-group-flush",children:n.map((function(e){return Object(o.jsxs)(H.a,{children:[Object(o.jsx)("span",{onClick:function(){return t(e)},children:e})," ",Object(o.jsx)(M.a,{onClick:function(){return r(function(e){var t=N();if(t.length){var c=t.indexOf(e);t.splice(c,1),k(t)}return t}(e))},children:"Remove"})]},e)}))})]})})})},P=c(36),_=c.n(P),R=function(e){var t=e.coord,c=e.city,r=e.date,n=Object(O.a)(["current",t.lon],(function(){return S(t)})),a=n.isError,i=n.isLoading,s=n.data;if(a)return Object(o.jsx)("h2",{children:"error"});if(i)return Object(o.jsx)("h2",{children:"loading..."});var j,l=s.current,h=s.timezone;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(d.a,{className:"my-2",children:Object(o.jsxs)(B.a,{children:[Object(o.jsxs)(B.a.Body,{children:[Object(o.jsxs)(B.a.Title,{className:"caps",children:["It is ",Math.round(l.temp),"\xb0 and ",l.weather[0].main," in ",c]}),Object(o.jsxs)(B.a.Text,{children:[Object(o.jsx)("img",{alt:"weather icon",src:v+l.weather[0].icon+".png"}),Object(o.jsx)("span",{className:"mx-3",children:r}),Object(o.jsxs)("span",{className:"mx-3",children:["Feels like ",l.feels_like,"\xb0"]}),Object(o.jsx)("span",{className:"mx-3 caps",children:l.weather[0].description}),Object(o.jsxs)("p",{children:["It is ",_()().tz(h).format("h:mm a")," here"]})]})]}),Object(o.jsxs)(z.a,{className:"list-group-flush",children:[Object(o.jsxs)(H.a,{children:["Humidity: ",l.humidity,"%"]}),Object(o.jsxs)(H.a,{children:["Wind speed: ",l.wind_speed," MPH"]}),Object(o.jsx)(H.a,{children:Object(o.jsxs)("span",{className:(j=l.uvi,j<3?"low":j<6?"medium":j<8?"high":j<11?"very-high":"extreme text-white"),children:["UV Index: ",l.uvi]})}),Object(o.jsxs)(H.a,{children:["Sunrise: ",_.a.unix(l.sunrise).tz(h).format("h:mm a")]}),Object(o.jsxs)(H.a,{children:["Sunset: ",_.a.unix(l.sunset).tz(h).format("h:mm a")]})]})]})})})},W=function(e){var t=e.data;return Object(o.jsx)(B.a,{className:"bg-primary text-light",children:Object(o.jsxs)(B.a.Body,{children:[Object(o.jsx)(B.a.Title,{children:F.a.unix(t.dt).format("dddd")}),Object(o.jsx)(B.a.Title,{children:F.a.unix(t.dt).format("MM-DD-YY")}),Object(o.jsx)("img",{alt:"forecast icon",src:v+t.weather[0].icon+".png"}),Object(o.jsxs)("p",{children:["Temp: ",t.temp.day,"\xb0F"]}),Object(o.jsxs)("p",{children:["Humidity: ",t.humidity,"%"]}),Object(o.jsxs)("p",{children:["High: ",t.temp.max,"\xb0"]}),Object(o.jsxs)("p",{children:["Low: ",t.temp.min,"\xb0"]})]})})},q=function(e){var t=e.city,c=e.coord,r=Object(O.a)(["forecast",c.lon],(function(){return S(c)})),n=r.isError,a=r.isLoading,i=r.data;return n?Object(o.jsx)("h2",{children:"error"}):a?Object(o.jsx)("h2",{children:"loading..."}):(i.daily.pop(),Object(o.jsx)(d.a,{className:"my-2",children:Object(o.jsx)(B.a,{children:Object(o.jsxs)(B.a.Body,{children:[Object(o.jsxs)(B.a.Title,{className:"caps",children:[t,"'s 7 Day Forecast:"]}),Object(o.jsx)(b.a,{children:i.daily.map((function(e){return Object(o.jsx)(x.a,{children:Object(o.jsx)(W,{data:e})},e.dt)}))})]})})}))},G=function(){var e=Object(r.useState)("New York City"),t=Object(u.a)(e,2),c=t[0],n=t[1],a=F()().format("MM/DD/YYYY"),i=Object(r.useState)(N()),s=Object(u.a)(i,2),j=s[0],l=s[1],h=Object(O.a)(["cities",c],(function(){return w(c)})),m=h.isError,p=h.isLoading,f=h.data;return m?Object(o.jsx)("h2",{children:"error"}):p?Object(o.jsx)("h2",{children:"loading..."}):Object(o.jsxs)(d.a,{fluid:!0,children:[Object(o.jsxs)(b.a,{children:[Object(o.jsxs)(x.a,{md:12,lg:3,children:[Object(o.jsx)(b.a,{children:Object(o.jsx)(Y,{setCity:n,setSavedCityList:l})}),Object(o.jsx)(b.a,{children:Object(o.jsx)(J,{setCity:n,savedCityList:j,setSavedCityList:l})})]}),Object(o.jsx)(x.a,{lg:9,children:Object(o.jsx)(b.a,{children:Object(o.jsx)(R,{city:c,coord:f.coord,date:a})})})]}),Object(o.jsx)(b.a,{children:Object(o.jsx)(q,{city:c,coord:f.coord,date:a})})]})},U=new s.a;var V=function(){return Object(o.jsxs)(j.a,{client:U,children:[Object(o.jsx)(h,{}),Object(o.jsx)(d.a,{fluid:!0,children:Object(o.jsx)(G,{})})]})},A=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,75)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),r(e),n(e),a(e),i(e)}))};i.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(V,{})}),document.getElementById("root")),A()}},[[62,1,2]]]);
//# sourceMappingURL=main.c0a6ff29.chunk.js.map