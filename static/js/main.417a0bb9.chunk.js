(this["webpackJsonpweather-react"]=this["webpackJsonpweather-react"]||[]).push([[0],{53:function(e,t,c){},62:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c.n(r),a=c(25),s=c.n(a),i=(c(52),c(53),c(71)),j=c(46),l=c(65),o=c(69),d=c(1),h=function(){return Object(d.jsx)(o.a,{bg:"dark",variant:"dark",children:Object(d.jsx)(l.a,{children:Object(d.jsx)(o.a.Brand,{href:"/",children:"Weather Dashboard"})})})},u=c(28),b=c(67),x=c(45),O=c(72),m=c(29),p=c.n(m),f=c(41),g="imperial",y="1b0d53466c6b55d0c85f1d56f3184390",v="https://openweathermap.org/img/wn/",w=function(){var e=Object(f.a)(p.a.mark((function e(t){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.openweathermap.org/data/2.5/weather?q="+t+"&appid="+y+"&units="+g);case 2:if((c=e.sent).ok){e.next=5;break}throw new Error("Failed to fetch");case 5:return e.abrupt("return",c.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(f.a)(p.a.mark((function e(t){var c,r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.lon,r=t.lat,e.next=3,fetch("https://api.openweathermap.org/data/2.5/onecall?lat="+r+"&lon="+c+"&exclude=hourly,minutely&units="+g+"&appid="+y);case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("Failed to fetch");case 6:return e.abrupt("return",n.json());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=c(21),k=c.n(N),C=c(32),F=c(42),I=c(73),B=c(74),D=c(68),L=c(66),T=function(e){var t=e.setCity,c=Object(r.useState)({username:""}),n=Object(u.a)(c,2),a=n[0],s=n[1],i=Object(r.useState)(!1),j=Object(u.a)(i,2),o=j[0],h=j[1];return Object(d.jsx)(l.a,{className:"my-2",children:Object(d.jsx)(I.a,{children:Object(d.jsxs)(I.a.Body,{children:[Object(d.jsx)(B.a,{dismissible:!0,onClose:function(){return h(!1)},show:o,variant:"danger",children:"Something went wrong!"}),Object(d.jsx)(D.a,{onSubmit:function(e){e.preventDefault(),a.city||h(!0),t(a.city)},children:Object(d.jsxs)(D.a.Group,{children:[Object(d.jsx)(D.a.Control,{type:"content",placeholder:"Search for a city...",name:"city",value:a.city,onChange:function(e){var t=e.target,c=t.name,r=t.value;s(Object(F.a)(Object(F.a)({},a),{},Object(C.a)({},c,r)))}}),Object(d.jsx)(L.a,{type:"submit",color:"dark blue",disabled:!a.city,className:"my-2",children:"Search"})]})})]})})})},E=c(70),M=c(47),Y=function(e){var t=e.savedCityList,c=e.setCity;return t.reverse(),Object(d.jsx)(l.a,{className:"my-2",children:Object(d.jsx)(I.a,{children:Object(d.jsxs)(I.a.Body,{children:[Object(d.jsx)(I.a.Title,{children:"Recently Searched:"}),Object(d.jsx)(E.a,{className:"list-group-flush",children:t.map((function(e){return Object(d.jsx)(M.a,{onClick:function(){return c(e)},children:e},e)}))})]})})})},z="saved_cities",H=function(){return localStorage.getItem(z)?JSON.parse(localStorage.getItem(z)):[]},J=function(e){var t,c=H(),r=!1;return c.length&&c.forEach((function(t){t===e&&(r=!0)})),r||(c.push(e),(t=c).length?localStorage.setItem(z,JSON.stringify(t)):localStorage.removeItem(z)),c},P=c(36),_=c.n(P),W=function(e){var t=e.coord,c=e.city,r=e.date,n=Object(O.a)(["current",t.lon],(function(){return S(t)})),a=n.isError,s=n.isLoading,i=n.data;if(a)return Object(d.jsx)("h2",{children:"error"});if(s)return Object(d.jsx)("h2",{children:"loading..."});var j,o=i.current,h=i.timezone;return J(c),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(l.a,{className:"my-2",children:Object(d.jsxs)(I.a,{children:[Object(d.jsxs)(I.a.Body,{children:[Object(d.jsxs)(I.a.Title,{className:"caps",children:["It is ",Math.round(o.temp),"\xb0 and ",o.weather[0].main," in ",c]}),Object(d.jsxs)(I.a.Text,{children:[Object(d.jsx)("img",{alt:"weather icon",src:v+o.weather[0].icon+".png"}),Object(d.jsx)("span",{className:"mx-3",children:r}),Object(d.jsxs)("span",{className:"mx-3",children:["Feels like ",o.feels_like,"\xb0"]}),Object(d.jsx)("span",{className:"mx-3 caps",children:o.weather[0].description}),Object(d.jsxs)("p",{children:["It is ",_()().tz(h).format("h:mm a")," here"]})]})]}),Object(d.jsxs)(E.a,{className:"list-group-flush",children:[Object(d.jsxs)(M.a,{children:["Humidity: ",o.humidity,"%"]}),Object(d.jsxs)(M.a,{children:["Wind speed: ",o.wind_speed," MPH"]}),Object(d.jsx)(M.a,{children:Object(d.jsxs)("span",{className:(j=o.uvi,j<3?"low":j<6?"medium":j<8?"high":j<11?"very-high":"extreme text-white"),children:["UV Index: ",o.uvi]})}),Object(d.jsxs)(M.a,{children:["Sunrise: ",_.a.unix(o.sunrise).tz(h).format("h:mm a")]}),Object(d.jsxs)(M.a,{children:["Sunset: ",_.a.unix(o.sunset).tz(h).format("h:mm a")]})]})]})})})},q=function(e){var t=e.data;return Object(d.jsx)(I.a,{className:"bg-primary text-light",children:Object(d.jsxs)(I.a.Body,{children:[Object(d.jsx)(I.a.Title,{children:k.a.unix(t.dt).format("MM-DD-YY")}),Object(d.jsx)("img",{alt:"forecast icon",src:v+t.weather[0].icon+".png"}),Object(d.jsxs)("p",{children:["Temp: ",t.temp.day,"\xb0F"]}),Object(d.jsxs)("p",{children:["Humidity: ",t.humidity,"%"]}),Object(d.jsxs)("p",{children:["High: ",t.temp.max,"\xb0"]}),Object(d.jsxs)("p",{children:["Low: ",t.temp.min,"\xb0"]})]})})},G=function(e){var t=e.city,c=e.coord,r=Object(O.a)(["forecast",c.lon],(function(){return S(c)})),n=r.isError,a=r.isLoading,s=r.data;return n?Object(d.jsx)("h2",{children:"error"}):a?Object(d.jsx)("h2",{children:"loading..."}):(s.daily.pop(),console.log(s),Object(d.jsx)(l.a,{className:"my-2",children:Object(d.jsx)(I.a,{children:Object(d.jsxs)(I.a.Body,{children:[Object(d.jsxs)(I.a.Title,{className:"caps",children:[t,"'s 6 Day Forecast:"]}),Object(d.jsx)(b.a,{children:s.daily.map((function(e){return Object(d.jsx)(x.a,{children:Object(d.jsx)(q,{data:e})},e.dt)}))})]})})}))},R=function(){var e=Object(r.useState)("New York City"),t=Object(u.a)(e,2),c=t[0],n=t[1],a=k()().format("MM/DD/YYYY"),s=Object(O.a)(["cities",c],(function(){return w(c)})),i=s.isError,j=s.isLoading,o=s.data;return i?Object(d.jsx)("h2",{children:"error"}):j?Object(d.jsx)("h2",{children:"loading..."}):Object(d.jsx)(l.a,{fluid:!0,children:Object(d.jsxs)(b.a,{children:[Object(d.jsxs)(x.a,{md:12,lg:3,children:[Object(d.jsx)(b.a,{children:Object(d.jsx)(T,{setCity:n})}),Object(d.jsx)(b.a,{children:Object(d.jsx)(Y,{setCity:n,savedCityList:H()})})]}),Object(d.jsxs)(x.a,{lg:9,children:[Object(d.jsx)(b.a,{children:Object(d.jsx)(W,{city:c,coord:o.coord,date:a})}),Object(d.jsx)(b.a,{children:Object(d.jsx)(G,{city:c,coord:o.coord,date:a})})]})]})})},U=new i.a;var V=function(){return Object(d.jsxs)(j.a,{client:U,children:[Object(d.jsx)(h,{}),Object(d.jsx)(l.a,{fluid:!0,children:Object(d.jsx)(R,{})})]})},A=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,75)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),r(e),n(e),a(e),s(e)}))};s.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(V,{})}),document.getElementById("root")),A()}},[[62,1,2]]]);
//# sourceMappingURL=main.417a0bb9.chunk.js.map